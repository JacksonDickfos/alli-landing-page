<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resources - Alli</title>
    <link rel="canonical" href="https://youralli.io/resources">
    <link rel="icon" type="image/png" href="the one - no background.png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <div class="logo">
                        <img src="logodone.png" alt="Alli Logo">
                    </div>
                </a>
            </div>
            <div class="nav-links">
                <a href="index.html#app-preview">'Alli' App</a>
                <a href="index.html#features">Why Alli?</a>
                <a href="index.html#how-it-works">How It Works</a>
                <a href="resources.html">Resources</a>
                <a href="index.html#waitlist">Join VIP List</a>
            </div>
        </div>
    </nav>

    <!-- Resources Section -->
    <section class="resources-section">
        <div class="container">
            <h1 class="resources-title" id="resources-title" style="cursor: pointer;">Nutrition <span class="ali-gradient">Resources</span></h1>
            <p class="resources-subtitle">Expert articles and guides to support your nutrition journey</p>
            
            <!-- Admin Add Button (hidden by default, shown after password) -->
            <div id="admin-controls" class="admin-controls" style="display: none;">
                <button class="btn-primary" id="add-resource-btn">
                    <i class="fas fa-plus"></i> Add New Article
                </button>
            </div>

            <!-- Resources Grid -->
            <div class="resources-grid" id="resources-grid">
                <!-- Articles will be dynamically loaded here -->
                <div class="resource-card" data-id="1" onclick="window.location.href='article.html?id=1'">
                    <div class="resource-bubble"></div>
                    <img src="https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=800" alt="Understanding Macronutrients" class="resource-image">
                    <div class="resource-content">
                        <h3 class="resource-card-title">Understanding Macronutrients: A Complete Guide</h3>
                        <p class="resource-card-description">Learn about proteins, carbs, and fats and how they fuel your body for optimal health.</p>
                        <div class="resource-meta">
                            <span class="resource-author"><i class="fas fa-user"></i> Alli Nutrition Team</span>
                            <span class="resource-date">January 2025</span>
                        </div>
                    </div>
                </div>
                <div class="resource-card" data-id="2" onclick="window.location.href='article.html?id=2'">
                    <div class="resource-bubble"></div>
                    <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800" alt="Meal Planning" class="resource-image">
                    <div class="resource-content">
                        <h3 class="resource-card-title">Meal Planning Made Simple</h3>
                        <p class="resource-card-description">Discover practical strategies for planning nutritious meals that fit your busy lifestyle.</p>
                        <div class="resource-meta">
                            <span class="resource-author"><i class="fas fa-user"></i> Alli Nutrition Team</span>
                            <span class="resource-date">January 2025</span>
                        </div>
                    </div>
                </div>
                <div class="resource-card" data-id="3" onclick="window.location.href='article.html?id=3'">
                    <div class="resource-bubble"></div>
                    <img src="https://images.unsplash.com/photo-1523362628745-0c100150b504?w=800" alt="Hydration" class="resource-image">
                    <div class="resource-content">
                        <h3 class="resource-card-title">Hydration: The Foundation of Health</h3>
                        <p class="resource-card-description">Explore why proper hydration is essential and how to ensure you're drinking enough water daily.</p>
                        <div class="resource-meta">
                            <span class="resource-author"><i class="fas fa-user"></i> Alli Nutrition Team</span>
                            <span class="resource-date">January 2025</span>
                        </div>
                    </div>
                </div>
                <div class="resource-card" data-id="4" onclick="window.location.href='article.html?id=4'">
                    <div class="resource-bubble"></div>
                    <img src="https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800" alt="Healthy Habits" class="resource-image">
                    <div class="resource-content">
                        <h3 class="resource-card-title">Building Healthy Habits That Last</h3>
                        <p class="resource-card-description">Learn evidence-based strategies for creating sustainable nutrition habits that stick.</p>
                        <div class="resource-meta">
                            <span class="resource-author"><i class="fas fa-user"></i> Alli Nutrition Team</span>
                            <span class="resource-date">January 2025</span>
                        </div>
                    </div>
                </div>
                <div class="resource-card" data-id="5" onclick="window.location.href='article.html?id=5'">
                    <div class="resource-bubble"></div>
                    <img src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=800" alt="Food Labels" class="resource-image">
                    <div class="resource-content">
                        <h3 class="resource-card-title">Understanding Food Labels</h3>
                        <p class="resource-card-description">Navigate nutrition labels with confidence and make informed food choices.</p>
                        <div class="resource-meta">
                            <span class="resource-author"><i class="fas fa-user"></i> Alli Nutrition Team</span>
                            <span class="resource-date">January 2025</span>
                        </div>
                    </div>
                </div>
                <div class="resource-card" data-id="6" onclick="window.location.href='article.html?id=6'">
                    <div class="resource-bubble"></div>
                    <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800" alt="Workout Nutrition" class="resource-image">
                    <div class="resource-content">
                        <h3 class="resource-card-title">Pre and Post-Workout Nutrition</h3>
                        <p class="resource-card-description">Optimize your fitness results with the right foods before and after exercise.</p>
                        <div class="resource-meta">
                            <span class="resource-author"><i class="fas fa-user"></i> Alli Nutrition Team</span>
                            <span class="resource-date">January 2025</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Password Modal -->
    <div id="admin-password-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Admin Access</h2>
                <button class="modal-close" id="close-password-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Enter admin password to add resources:</p>
                <input type="password" id="admin-password" placeholder="Enter password" class="modal-input">
                <div class="modal-error" id="password-error" style="display: none;"></div>
                <button class="btn-primary" id="submit-password">Submit</button>
            </div>
        </div>
    </div>

    <!-- Add Resource Modal -->
    <div id="add-resource-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Add New Resource</h2>
                <button class="modal-close" id="close-add-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="add-resource-form">
                    <div class="form-group">
                        <label for="resource-title">Title</label>
                        <input type="text" id="resource-title" class="modal-input" required>
                    </div>
                    <div class="form-group">
                        <label for="resource-description">Description</label>
                        <textarea id="resource-description" class="modal-input modal-textarea" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="resource-image">Image URL (optional)</label>
                        <input type="url" id="resource-image" class="modal-input" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label for="resource-content">Full Article Content</label>
                        <textarea id="resource-content" class="modal-input modal-textarea" rows="10" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="resource-author">Author (optional)</label>
                        <input type="text" id="resource-author" class="modal-input">
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" id="cancel-add-resource">Cancel</button>
                        <button type="submit" class="btn-primary">Add Resource</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="social-links">
                    <a href="https://www.linkedin.com/company/your-alli" target="_blank"><i class="fab fa-linkedin"></i></a>
                    <a href="https://www.instagram.com/youralli.io/" target="_blank"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="current-year">2025</span> Alli. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script src="resources.js"></script>
    <script>
        // Ensure title click and modal handlers work immediately
        document.addEventListener('DOMContentLoaded', function() {
            const title = document.getElementById('resources-title');
            if (title) {
                title.style.cursor = 'pointer';
                title.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const modal = document.getElementById('admin-password-modal');
                    if (modal) {
                        modal.style.display = 'flex';
                        const passwordInput = document.getElementById('admin-password');
                        if (passwordInput) passwordInput.focus();
                    }
                });
            }
            
            // Close modal handlers
            const closePasswordModal = document.getElementById('close-password-modal');
            if (closePasswordModal) {
                closePasswordModal.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const modal = document.getElementById('admin-password-modal');
                    if (modal) {
                        modal.style.display = 'none';
                        document.getElementById('admin-password').value = '';
                        const errorDiv = document.getElementById('password-error');
                        if (errorDiv) errorDiv.style.display = 'none';
                    }
                });
            }
            
            // Close modal when clicking outside
            const adminPasswordModal = document.getElementById('admin-password-modal');
            if (adminPasswordModal) {
                adminPasswordModal.addEventListener('click', function(e) {
                    if (e.target === adminPasswordModal) {
                        adminPasswordModal.style.display = 'none';
                        document.getElementById('admin-password').value = '';
                        const errorDiv = document.getElementById('password-error');
                        if (errorDiv) errorDiv.style.display = 'none';
                    }
                });
            }
            
            // Submit password handler
            const submitPassword = document.getElementById('submit-password');
            if (submitPassword) {
                submitPassword.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const passwordInput = document.getElementById('admin-password');
                    const password = passwordInput ? passwordInput.value : '';
                    
                    // Check password (alli2025)
                    if (password === 'alli2025') {
                        // Set authenticated
                        sessionStorage.setItem('adminAuthenticated', 'true');
                        
                        // Hide modal
                        const modal = document.getElementById('admin-password-modal');
                        if (modal) {
                            modal.style.display = 'none';
                            passwordInput.value = '';
                            const errorDiv = document.getElementById('password-error');
                            if (errorDiv) errorDiv.style.display = 'none';
                        }
                        
                        // Show Add New Article button
                        const adminControls = document.getElementById('admin-controls');
                        if (adminControls) {
                            adminControls.style.display = 'block';
                        }
                    } else {
                        // Show error
                        const errorDiv = document.getElementById('password-error');
                        if (errorDiv) {
                            errorDiv.textContent = 'Incorrect password. Please try again.';
                            errorDiv.style.display = 'block';
                        }
                        if (passwordInput) passwordInput.value = '';
                    }
                });
            }
            
            // Handle Enter key in password field
            const passwordInput = document.getElementById('admin-password');
            if (passwordInput) {
                passwordInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        if (submitPassword) submitPassword.click();
                    }
                });
            }
            
            // Add New Article button handler
            const addResourceBtn = document.getElementById('add-resource-btn');
            if (addResourceBtn) {
                addResourceBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const addModal = document.getElementById('add-resource-modal');
                    if (addModal) {
                        addModal.style.display = 'flex';
                    }
                });
            }
            
            // Close Add Resource Modal handlers
            const closeAddModal = document.getElementById('close-add-modal');
            if (closeAddModal) {
                closeAddModal.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const addModal = document.getElementById('add-resource-modal');
                    if (addModal) {
                        addModal.style.display = 'none';
                        const form = document.getElementById('add-resource-form');
                        if (form) form.reset();
                    }
                });
            }
            
            const cancelAddResource = document.getElementById('cancel-add-resource');
            if (cancelAddResource) {
                cancelAddResource.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const addModal = document.getElementById('add-resource-modal');
                    if (addModal) {
                        addModal.style.display = 'none';
                        const form = document.getElementById('add-resource-form');
                        if (form) form.reset();
                    }
                });
            }
            
            // Close Add Resource Modal when clicking outside
            const addResourceModal = document.getElementById('add-resource-modal');
            if (addResourceModal) {
                addResourceModal.addEventListener('click', function(e) {
                    if (e.target === addResourceModal) {
                        addResourceModal.style.display = 'none';
                        const form = document.getElementById('add-resource-form');
                        if (form) form.reset();
                    }
                });
            }
            
            // Handle Add Resource form submission
            const addResourceForm = document.getElementById('add-resource-form');
            if (addResourceForm) {
                addResourceForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const title = document.getElementById('resource-title').value;
                    const description = document.getElementById('resource-description').value;
                    const image = document.getElementById('resource-image').value;
                    const content = document.getElementById('resource-content').value;
                    const author = document.getElementById('resource-author').value || 'Alli Nutrition Team';
                    
                    if (!title || !description || !content) {
                        alert('Please fill in all required fields (Title, Description, and Content).');
                        return;
                    }
                    
                    // Get existing articles from localStorage
                    let articles = [];
                    try {
                        const stored = localStorage.getItem('articles');
                        if (stored) {
                            articles = JSON.parse(stored);
                        }
                    } catch (e) {
                        articles = [];
                    }
                    
                    // Create new article
                    const newArticle = {
                        id: Date.now().toString(),
                        title: title,
                        description: description,
                        image: image || null,
                        content: content,
                        author: author,
                        createdAt: new Date().toISOString()
                    };
                    
                    // Add to articles array
                    articles.push(newArticle);
                    
                    // Save to localStorage
                    localStorage.setItem('articles', JSON.stringify(articles));
                    
                    // Close modal and reset form
                    addResourceModal.style.display = 'none';
                    addResourceForm.reset();
                    
                    // Reload the page to show new article
                    window.location.reload();
                });
            }
        });
    </script>
</body>
</html>

